# 1.AJAX

- 无需刷新页面就可以发起异步请求和服务器通信,交换数据的技术就叫AJAX
- Asyncchronous JavaScript And XMl
- 测试去:https://httpbin.org/

## AJAX初体验

### jQuery中也有AjAX模块,是在XMLHttpRequest的基础上进行封装

- get
- post
- put
- delete

## AJAX请求发生错误

- status: 500 503 404 403

  - 503服务器在维修
  - 500后台代码异常
  - 403没权限
  - 404没资源

- 超时

- 取消请求

  - ```
     //取消超时
          $('ul').click(function() {
            jqXHR.abort()
            console.log("取消超时")//请求状态有pending, 取消后变为canceled,没取消则是200或404等状态码
          })
    ```

## GET请求的参数

````
   $.ajax({
        url: "https://httpbin.org/get",
        data: {
          name: "张三",
          age: 18
        },
        headers: {
          accessToken: "123456"//后台拿到这个请求头看其合法不,然后决定是否放行资源,不合法则403
        },
        success: function(data) {
          console.log(data)//把data拼接到urlhttps://httpbin.org/get?name=%E5%BC%A0%E4%B8%89&age=18
        }
      })
````



- url提交请求的参数
- data提交请求的参数
- 添加请求头
- GET请求的简写





## POST请求的参数

- url提交请求参数
- data提交请求的参数
- data提交的是FormData
- 添加请求头

  - 作用就是服务器拿到看你i有没有权限(如token)
  - 当谁都可以访问则就不需要设置请求头
  - ![](D:\Desktop\JavaScript\jQuery实战框架\d46_jQuery-AJAX-编写JQuery插件-Lodash-Dayjs\请求头.png)
    - payload即请求体

- POST请求的简写

  - ```
     $.post('https://httpbin.org/post', {name: '张三', age: 18})
          .then(function(data) {
            console.log(data)
            })
    ```








# 2.编写jQuery的插件

- 即使编写一些方法,并将这些方法添加到JQuery的原型对象上

- jquery.showLinkLocation.js





# 3. 备课找房项目实战

- 跨域问题

  - solve;最后前端来做,当然也可后端
  - 配置要在后端也就服务器中完成

- 参数问题

  - ```
     function request(config = {}) {
        return $.ajax({
          url: config.url || '',
          method: config.method || "GET",
          timeout: config.timeout || 5000,
          data: config.data || {},
          headers: config.headers || {},
    
    
          //这里解构config,不会覆盖前面的参数，要是覆盖前面参数的值还是一样,但前面参数没有比如contentType,解构config就会添加上
          ...config
        })
      }
    
      //request的参数是对象而url和data没有值,因为get调用后传入的参数会等于url和data的值
      function get(url, data, config) {
        return request({
          url,
          method: 'GET',
          data,
          ...config
        })
      }
    ```





- 首页的初始化
- 热门推荐
- 搜索房源
- 搜索栏选项卡的切换



# 4.Lodash

- 邂逅Lodash
- Lodash初体验
- 手写精简版的Lodash
- Lodash的基本使用



# 5.Dayjs

- 邂逅Dayjs
- Dayjs初体验
- 手写精简版的Dayjs
- ...